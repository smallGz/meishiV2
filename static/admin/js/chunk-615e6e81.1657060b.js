(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-615e6e81"],{"066c":function(t,e,n){},"0dfe":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box_outside"},[n("div",{staticClass:"wrap"},[n("Header"),n("Menu",{attrs:{currentid:t.currentCategory.id}})],1),n("Bread",{attrs:{currentname:t.currentCategory.name}}),n("div",{staticClass:"classify_content"},[n("div",{staticClass:"wrap"},[n("Infor",{model:{value:t.currentCategory,callback:function(e){t.currentCategory=e},expression:"currentCategory"}}),n("Comment")],1)]),n("div",{staticClass:"wrap"},[n("Footer")],1)],1)},a=[],o=n("71c2"),i=n("076e"),r=n("b7bc"),c=n("25c3"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"food_details"},[n("div",{staticClass:"article_name clearfix"},[n("h3",[t._v(t._s(t.cookbook.name))]),n("ul",{staticClass:"article_info"},[n("li",[n("i",[t._v("爱心")]),n("span",[t._v(t._s(t.cookbook.favoriteCount))])]),n("li",[n("i",[t._v("留言")]),n("span",[t._v(t._s(t.cookbook.commentCount))])]),n("li",[n("i",{staticClass:"article_img"},[n("router-link",{attrs:{to:"/home/space-recipe/"+t.cookbook.userId,tag:"a"}},[n("img",{attrs:{src:"/public/uploads/"+t.user.avatar,alt:""}})])],1),n("span",[n("router-link",{attrs:{to:"/home/space-recipe/"+t.cookbook.userId,tag:"a"}},[t._v("\n                        "+t._s(t.user.username)+"\n                    ")])],1)])])]),n("div",{staticClass:"food_content"},[t._m(0),n("p",{staticClass:"food_describe"},[t._v("\n            "+t._s(t.cookbook.description)+"\n        ")]),n("div",{staticClass:"food_detailed"},[n("h4",{staticClass:"food_title"},[t._v("食材明细")]),n("fieldset",[n("legend",[t._v("主料")]),t.cookbook.ingredients?n("ul",{staticClass:"detailed_list clearfix"},t._l(t.cookbook.ingredients.m,function(e){return n("li",{key:e.id},[n("span",[t._v(t._s(e.k))]),n("span",[t._v(t._s(e.v))])])}),0):t._e()]),n("fieldset",[n("legend",[t._v("辅料")]),t.cookbook.ingredients?n("ul",{staticClass:"detailed_list clearfix"},t._l(t.cookbook.ingredients.s,function(e){return n("li",{key:e.id},[n("span",[t._v(t._s(e.k))]),n("span",[t._v(t._s(e.v))])])}),0):t._e()]),n("div",{staticClass:"detailed_last"},[n("ul",{staticClass:"detailed_list clearfix"},[n("li",[n("span",[t._v("工艺")]),n("span",[t._v(t._s(t.cookbook.craft))])]),n("li",[n("span",[t._v("难度")]),n("span",[t._v(t._s(t.cookbook.level))])]),n("li",[n("span",[t._v("口味")]),n("span",[t._v(t._s(t.cookbook.taste))])]),n("li",[n("span",[t._v("耗时")]),n("span",[t._v(t._s(t.cookbook.needTime))])])])]),n("div",{staticClass:"food_step"},[n("h4",{staticClass:"food_title"},[t._v(t._s(t.cookbook.name)+"的做法步骤")]),n("ol",{staticClass:"step_list"},t._l(t.cookbook.steps,function(e,s){return n("li",{key:e.id},[n("img",{attrs:{src:"/public/uploads/cookbooks/"+e.p,alt:""}}),n("div",{staticClass:"step_text"},[n("i",[t._v(t._s(s+1))]),n("p",[t._v(t._s(e.d))])])])}),0)]),n("div",{staticClass:"food_tip"},[n("h4",{staticClass:"food_title"},[t._v("小窍门")]),n("div",{staticClass:"tip_txt"},[n("p",[t._v("\n                        "+t._s(t.cookbook.tips)+"\n                    ")]),n("span",{staticClass:"food_fenlei"},[t._v("\n                        所属分类：\n                        "),t._l(t.cookbook.cookers,function(e){return n("a",{key:e.id},[t._v("\n                            "+t._s(e)+"\n                        ")])})],2)])])])])])},u=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"food_img"},[n("img",{attrs:{src:"img/download.jpg",alt:""}})])}],m=n("5176"),d=n.n(m),_=(n("96cf"),n("3b8d")),p=n("365c"),v={data:function(){return{cookbook:{},user:{},comments:[],params:{cookbookId:this.$route.params.id}}},mounted:function(){this.getView()},methods:{getView:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["g"])(this.params);case 2:e=t.sent,e&&!e.data.code&&(this.cookbook=d()({},e.data.cookbook),this.user=e.data.user,this.$emit("input",e.data.currentcategory));case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},f=v,k=n("2877"),h=Object(k["a"])(f,l,u,!1,null,null,null);h.options.__file="infor.vue";var b=h.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("h3",[t._v("评论")]),n("div",{staticClass:"comment_content"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentParams.content,expression:"commentParams.content"}],domProps:{value:t.commentParams.content},on:{input:function(e){e.target.composing||t.$set(t.commentParams,"content",e.target.value)}}}),n("div",{staticClass:"comment_bottom"},[n("span",[t._v("Ctrl+Enter也可以提交哦")]),n("button",{on:{click:function(e){t.postComment()}}},[t._v("发表评论")])]),this.$store.state.user.uid?t._e():n("div",{staticClass:"comment_login"},[t._m(0)])]),t.comments?n("div",{staticClass:"comment_list"},[n("h4",[t._v("最新评论（"+t._s(t.comments.length)+"条）")]),n("ul",{staticClass:"cmt_ul"},t._l(t.comments,function(e){return n("li",{key:e.id},[n("router-link",{attrs:{to:"/home/space-recipe/"+e.userId,tag:"a"}},[n("img",{attrs:{src:"/public/uploads/avatar/"+e.avatar,alt:""}})]),n("div",{staticClass:"comment_txt"},[n("div",{staticClass:"comment_name"},[n("span",[n("a",{attrs:{href:"/home/space-recipe/"+e.userId}},[t._v("\n                                "+t._s(e.username)+"\n                            ")])]),n("time",[t._v(t._s(e.updatedAt))])]),n("p",[t._v("\n                        "+t._s(e.content)+"\n                    ")])])],1)}),0)]):t._e(),t.tipsBoolean?n("div",{staticClass:"no-text",domProps:{innerHTML:t._s(t.tipsTxt)}}):t._e(),t.tipsBoolean?t._e():n("button",{staticClass:"more",on:{click:t.handleMoreContent}},[t._v("查看更多")])])},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment_login_inner"},[n("a",{attrs:{href:"/login"}},[t._v("登录")]),t._v("后参与讨论，发表评论")])}],x={data:function(){return{comments:[],params:{cookbookId:this.$route.params.id,page:1},commentParams:{userId:this.$store.state.user.uid,cookbookId:this.$route.params.id,content:""},tipsTxt:"",tipsBoolean:!1}},mounted:function(){this.getComment()},methods:{getComment:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(p["b"])(this.params);case 2:if(e=t.sent,!e||e.data.code){t.next=9;break}if(e.data.comments.length){t.next=8;break}return this.tipsTxt="暂无最新数据",this.tipsBoolean=!0,t.abrupt("return");case 8:this.comments=this.comments.concat(e.data.comments);case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),postComment:function(){var t=Object(_["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.commentParams.userId){t.next=3;break}return this.$router.push("/login"),t.abrupt("return");case 3:return t.next=5,Object(p["h"])(this.commentParams);case 5:e=t.sent,e&&!e.data.code&&(this.commentParams.content="",this.getComment());case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleMoreContent:function(){this.params.page+=1,this.getComment(this.params)}}},w=x,y=(n("25cc"),Object(k["a"])(w,g,C,!1,null,null,null));y.options.__file="comment.vue";var $=y.exports,j=(n("b5cf"),n("066c"),{data:function(){return{currentCategory:{name:"全部"}}},components:{Header:o["a"],Menu:r["a"],Bread:c["a"],Infor:b,Comment:$,Footer:i["a"]}}),O=j,I=Object(k["a"])(O,s,a,!1,null,null,null);I.options.__file="View.vue";e["default"]=I.exports},"189c":function(t,e,n){},"25c3":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"classify_content"},[n("div",{staticClass:"wrap"},[n("div",{staticClass:"location"},[t._v("\n                您的位置：\n                "),n("router-link",{attrs:{to:"/index",tag:"a"}},[t._v("美食天下")]),n("router-link",{attrs:{to:"/list",tag:"a"},nativeOn:{click:function(e){return t.refresh(e)}}},[t._v("菜谱")]),n("a",{attrs:{href:"javascript:void(0)"},nativeOn:{click:function(e){return t.refresh(e)}}},[t._v(t._s(t.currentname))])],1)])])},a=[],o={props:["currentname"],methods:{refresh:function(){this.$router.go(0)}}},i=o,r=n("2877"),c=Object(r["a"])(i,s,a,!1,null,null,null);c.options.__file="bread.vue";e["a"]=c.exports},"25cc":function(t,e,n){"use strict";var s=n("189c"),a=n.n(s);a.a},5176:function(t,e,n){t.exports=n("51b6")},"51b6":function(t,e,n){n("a3c3"),t.exports=n("584a").Object.assign},9306:function(t,e,n){"use strict";var s=n("c3a1"),a=n("9aa9"),o=n("355d"),i=n("241e"),r=n("335c"),c=Object.assign;t.exports=!c||n("294c")(function(){var t={},e={},n=Symbol(),s="abcdefghijklmnopqrst";return t[n]=7,s.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=s})?function(t,e){var n=i(t),c=arguments.length,l=1,u=a.f,m=o.f;while(c>l){var d,_=r(arguments[l++]),p=u?s(_).concat(u(_)):s(_),v=p.length,f=0;while(v>f)m.call(_,d=p[f++])&&(n[d]=_[d])}return n}:c},a3c3:function(t,e,n){var s=n("63b6");s(s.S+s.F,"Object",{assign:n("9306")})},b5cf:function(t,e,n){},b7bc:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"sub_nav"},[n("li",[n("router-link",{class:""==t.currentid?"active":"",attrs:{to:"/list",tag:"a"},nativeOn:{click:function(e){return t.refresh(e)}}},[t._v("\n            全部\n        ")]),t._l(t.categories,function(e){return n("router-link",{key:e.id,class:e.id==t.currentid?"active":"",attrs:{to:"/list/"+e.id,tag:"a"},on:{click:function(n){t.link(e.id)}}},[t._v("\n            "+t._s(e.name)+"\n        ")])})],2)])},a=[],o=(n("cadf"),n("551c"),n("097d"),{name:"innerleftmenu",props:["currentid"],data:function(){return{currentCategoryId:this.$route.params.id}},computed:{categories:function(){return this.$store.state.category.category}},mounted:function(){this.$store.dispatch("asyncGetdata")},methods:{link:function(t){this.$route.push("/list/".concat(t))}}}),i=o,r=n("2877"),c=Object(r["a"])(i,s,a,!1,null,null,null);c.options.__file="menu.vue";e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-615e6e81.1657060b.js.map